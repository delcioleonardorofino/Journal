{%extends 'base.html'%}

{%block main%}

<main class="
            max-w-container
            mx-auto
            px-4
            md:px-18 py-6
            md:pt-section
            flex
            flex-col
            gap-6
            md:gap-[32px]"
            id="container">
            

    <section class=" max-w-container px-6 py-12 flex flex-col gap-8 md:gap-14 content">

    <!-- Header do Post -->
    <header class="flex flex-col gap-4">
        <div class="flex flex-row gap-2 justify-between">
            <div class="flex flex-row gap-2 max-w-[200px] justify-center align-center">
                <a href="/">
                    <img
                        src="{{ url_for('static', filename='assets/132472.png') }}"
                        class="w-8 h-8 md:w-12 md:h-12
                        rounded-full object-cover object-top cursor-pointer shadow-md
                        transition-all duration-300
                        hover:scale-105
                        hover:shadow-blue-500/40"
                    />
                </a>
               
                <a href="/">
                    <div class="flex flex-col gap-0 justify-center align-center">
                        <p class="font-body font-bold text-xs md:text-sm text-text-primary name">D.L. Rofino.</p>
                        <p class="font-body text-xs md:text-sm text-text-muted role">Engenheiro</p>
                    </div>
                </a>
            </div>
            
            <div class="flex flex-col justify-center align-center">
                <span class="font-mono text-xs md:text-sm text-text-muted">
                {{ post.date|safe }}
                </span>
            </div> 
        </div>
        
        <h1 class="font-display font-bold mt-2 text-2xl md:mt-6 md:text-5xl text-text-primary">
            {{post.title|safe}}
        </h1>

        <div class="flex flex-col mb-2 gap-2 text-text-muted text-sm md:text-base">
            <span class="font-mono">{{post.description|safe}}</span>
        </div>
{%if post.tags%}
        <section class="flex flex-wrap gap-2">
            {%for tag in post.tags%}
                <span class="bg-[#F0F0F0] text-xs font-mono px-2 py-1 rounded-sm">#{{tag}}</span>
            {%endfor%}
        </section>
{%endif%}
    </header>

    {%if post.image%}
    <!-- Imagem de destaque -->
        <section>
            <img src="./assets/post-image.png" alt="Imagem do post"
                class="w-full rounded-md shadow-sm hover:shadow-lg transition">
        </section>
    {%endif%}

    <!-- Conteúdo do Post -->
    <section class="flex flex-col gap-4 font-body text-text-muted post">
        <hr>
            {{post.content|safe}}
    </section>


    <!-- Call to Action -->
    <section class="flex flex-col md:flex-row gap-4 mt-8">
        {%if post.id==1%}
            <a href="/posts" 
            class="flex items-center justify-center text-text-muted font-mono text-sm px-6 py-3 rounded-md shadow-sm hover:shadow-lg transition">
            ← Voltar
            </a>
        {%endif%}

        {%if post.id>1%}
            <a href="/posts/{{post.id-1}}" 
            class="flex items-center justify-center text-text-muted font-mono text-sm px-6 py-3 rounded-md shadow-sm hover:shadow-lg transition">
            ← Post anterior
            </a>
        {%endif%}

        {%if post.id < posts|length%} 
            <a href="/posts/{{post.id+1}}"
            class="flex items-center justify-center text-text-muted font-mono text-sm px-6 py-3 rounded-md shadow-sm hover:shadow-lg transition">
            Próximo Post →
            </a>
        {%endif%}
    </section>

    </section>
</main>
{%endblock%}